webpackJsonp([4],{"T+/8":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"login",data:function(){return{checkCode:"",forms:{account:"admin",passwd:"123"}}},methods:{createCode:function(){for(var e="",t=new Array(0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),o=0;o<4;o++){e+=t[Math.floor(36*Math.random())]}this.checkCode=e},onLogin:function(){var e=this;if(this.forms.code!=this.checkCode)return this.$message({message:"请正确输入验证码！",type:"warning",showClose:!0}),!1;var t=this.forms;this.api.doLogin(t).then(function(t){if(200!=t.data.code)return e.$message({message:"账号和密码不正确，请检查！",type:"warning",showClose:!0}),!1;localStorage.setItem("token",t.data.token),e.$router.push("/dashboard")}).catch(function(e){console.log("error:",e)})}},mounted:function(){this.createCode()}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"logincontainer"},[o("div",{staticClass:"loginbox"},[o("h3",{staticClass:"logintitle"},[e._v("霜儿工作室")]),e._v(" "),o("el-form",{attrs:{model:e.forms,"label-width":"60px",size:"medium",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.onLogin(t)}}},[o("div",{staticClass:"myblock"},[o("el-input",{attrs:{placeholder:"请输入您的账号","prefix-icon":"el-icon-user"},model:{value:e.forms.account,callback:function(t){e.$set(e.forms,"account",t)},expression:"forms.account"}})],1),e._v(" "),o("div",{staticClass:"myblock"},[o("el-input",{attrs:{type:"password","show-password":!0,placeholder:"请输入您的密码","prefix-icon":"el-icon-setting"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin(t)}},model:{value:e.forms.passwd,callback:function(t){e.$set(e.forms,"passwd",t)},expression:"forms.passwd"}})],1),e._v(" "),o("div",{staticClass:"myblock"},[o("el-input",{staticClass:"verifycode",staticStyle:{width:"50%",float:"left","margin-right":"15px"},attrs:{maxlength:4,placeholder:"验证码","prefix-icon":"el-icon-connection"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin(t)}},model:{value:e.forms.code,callback:function(t){e.$set(e.forms,"code",t)},expression:"forms.code"}}),e._v(" "),o("span",{staticClass:"checkCode",staticStyle:{cursor:"pointer"},on:{click:e.createCode}},[e._v(e._s(e.checkCode))]),e._v(" "),o("div",{staticStyle:{clear:"both"}})],1),e._v(" "),o("div",{staticClass:"myblock"},[o("el-button",{staticStyle:{background:"#419363",width:"100%",color:"#fff"},on:{click:e.onLogin}},[e._v("立即登录")])],1),e._v(" "),o("div",{staticStyle:{color:"#999","font-size":"12px","padding-top":"5px","text-align":"center"}},[e._v("\n            @2020 版权所有 侵权必究\n        ")])])],1)])},staticRenderFns:[]};var i=o("C7Lr")(n,s,!1,function(e){o("emyP")},"data-v-43c67537",null);t.default=i.exports},emyP:function(e,t){}});